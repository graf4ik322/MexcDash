# –£–ª—É—á—à–µ–Ω–Ω–æ–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–π

## –ß—Ç–æ –±—ã–ª–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ:

### üîç –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ö–∞–∂–¥–∞—è —Å–¥–µ–ª–∫–∞ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è —Å –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç—Å—è –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞ –ø–æ–∫—É–ø–∫–∏ –∏ –ø—Ä–∏–±—ã–ª—å –æ—Ç –ø—Ä–æ–¥–∞–∂

### üìä –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–π –ø–æ –ø–∞—Ä–∞–º
- –ö–∞–∂–¥–∞—è —Ç–æ—Ä–≥–æ–≤–∞—è –ø–∞—Ä–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ
- –ü–æ–∑–∏—Ü–∏–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –º–µ–∂–¥—É –¥–Ω—è–º–∏
- –ò—Å—Ç–æ—Ä–∏—è –≤—Å–µ—Ö —Å–¥–µ–ª–æ–∫ –¥–ª—è –∫–∞–∂–¥–æ–π –ø–∞—Ä—ã

### üí∞ –¢–æ—á–Ω—ã–π —Ä–∞—Å—á–µ—Ç –ø—Ä–∏–±—ã–ª–∏
- –ü—Ä–∏ –ø–æ–∫—É–ø–∫–µ: –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø–æ–∑–∏—Ü–∏—è (–Ω–∞–∫–æ–ø–ª–µ–Ω–∏–µ)
- –ü—Ä–∏ –ø—Ä–æ–¥–∞–∂–µ: —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏–±—ã–ª—å –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å—Ä–µ–¥–Ω–µ–π —Ü–µ–Ω—ã –ø–æ–∫—É–ø–∫–∏
- –£—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –∫–æ–º–∏—Å—Å–∏–∏ –≤ —Ä–∞—Å—á–µ—Ç–µ –ø—Ä–∏–±—ã–ª–∏

## –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã:

### 1. –ü–æ–∫—É–ø–∫–∞ (–ù–∞–∫–æ–ø–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏)
```javascript
// –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–∑–∏—Ü–∏—é
totalAmount += amount;
totalCost += total;
averagePrice = totalCost / totalAmount;

// –õ–æ–≥–∏—Ä—É–µ–º –æ–ø–µ—Ä–∞—Ü–∏—é
console.log(`BUY: ${pair}`);
console.log(`  Amount: ${oldAmount} + ${amount} = ${totalAmount}`);
console.log(`  Cost: ${oldCost} + ${total} = ${totalCost}`);
console.log(`  Avg Price: ${averagePrice}`);
```

### 2. –ü—Ä–æ–¥–∞–∂–∞ (–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–±—ã–ª–∏)
```javascript
// –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –ø–æ–∑–∏—Ü–∏–∏
if (totalAmount > 0) {
    // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –ø—Ä–∏–±—ã–ª—å
    buyValue = amount * averagePrice;
    profit = sellValue - buyValue - fee;
    
    // –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–∑–∏—Ü–∏—é
    totalAmount -= amount;
    totalCost -= buyValue;
    
    console.log(`SELL: ${pair}`);
    console.log(`  Sold: ${amount} @ ${price} = ${sellValue}`);
    console.log(`  Buy Value: ${amount} * ${averagePrice} = ${buyValue}`);
    console.log(`  Profit: ${profit}`);
}
```

## –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ:

### üìà –ö–∞—Ä—Ç–æ—á–∫–∏ –¥–Ω–µ–π
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –¥–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–∑–∏—Ü–∏—è—Ö
- –î–ª—è –∫–∞–∂–¥–æ–π –ø–∞—Ä—ã: –æ–±—ä–µ–º –ø–æ–∫—É–ø–∫–∏/–ø—Ä–æ–¥–∞–∂–∏ –∏ –ø—Ä–∏–±—ã–ª—å
- –ü—Ä–∏–º–µ—Ä: "BTC: Buy 0.1, Sell 0.05 ($150.00)"

### üìä –°–≤–æ–¥–∫–∞
- –û–±—â–∞—è –ø—Ä–∏–±—ã–ª—å –æ—Ç –ø—Ä–æ–¥–∞–∂
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ–∑–∏—Ü–∏–π
- –°—Ç–æ–∏–º–æ—Å—Ç—å –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ–∑–∏—Ü–∏–π

### üîç –ö–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞
- –ü–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–∑–∏—Ü–∏–π
- –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:

1. **–¢–æ—á–Ω–æ—Å—Ç—å** - –∫–∞–∂–¥–∞—è –ø—Ä–æ–¥–∞–∂–∞ —Å–æ–ø–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è —Å –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω–æ–π –ø–æ–∑–∏—Ü–∏–µ–π
2. **–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å** - –≤–∏–¥–Ω–æ –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–∑–∏—Ü–∏–π
3. **–û—Ç–ª–∞–¥–∫–∞** - –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏ –ø–æ–º–æ–≥–∞—é—Ç –Ω–∞–π—Ç–∏ –ø—Ä–æ–±–ª–µ–º—ã
4. **–†–µ–∞–ª—å–Ω–∞—è –ø—Ä–∏–±—ã–ª—å** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –ø—Ä–∏–±—ã–ª—å

## –ü—Ä–∏–º–µ—Ä –ª–æ–≥–æ–≤:
```
=== Processing date: 2024-01-15 ===
Trade 1: Buy 0.1 BTC @ 50000 = 5000
  BUY: BTC
    Amount: 0 + 0.1 = 0.1
    Cost: 0 + 5000 = 5000
    Avg Price: 50000.000000

Trade 2: Sell 0.05 BTC @ 51000 = 2550
  SELL: BTC
    Current position: 0.1 @ 50000.000000
    Sold: 0.05 @ 51000 = 2550
    Buy Value: 0.05 * 50000.000000 = 2500.00
    Profit: 2550 - 2500.00 - 5 = 45.00
    New position: 0.05 @ 50000.000000
```

**–¢–µ–ø–µ—Ä—å —Å–∏—Å—Ç–µ–º–∞ —Ç–æ—á–Ω–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–µ –∏ –ø—Ä–æ–¥–∞–∂—É –ø–æ–∑–∏—Ü–∏–π!** üöÄ